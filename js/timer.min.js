(function(e){function u(t,n,r){function a(){if(o){o.apply(e,arguments);if(!u){delete n[s];o=null}}}var s,o=r[0],u=t===i;r[0]=a;s=t.apply(e,r);n[s]={args:r,created:Date.now(),cb:o,id:s};return s}function a(t,n,r,s,o){function c(){if(u.cb){u.cb.apply(e,arguments);if(!a){delete r[s];u.cb=null}}}var u=r[s];if(!u)return;var a=t===i;n(u.id);if(!a){var f=u.args[1],l=Date.now()-u.created;l<0&&(l=0);f-=l;f<0&&(f=0);u.args[1]=f}u.args[0]=c;u.created=Date.now();u.id=t.apply(e,u.args)}var t={},n={},r=e.setTimeout,i=e.setInterval,s=e.clearTimeout,o=e.clearInterval;e.setTimeout=function(){return u(r,t,arguments)};e.setInterval=function(){return u(i,n,arguments)};e.clearTimeout=function(e){var n=t[e];if(n){delete t[e];s(n.id)}};e.clearInterval=function(e){var t=n[e];if(t){delete n[e];o(t.id)}};e.addEventListener("scroll",function(){var e;for(e in t)a(r,s,t,e);for(e in n)a(i,o,n,e)})})(window);